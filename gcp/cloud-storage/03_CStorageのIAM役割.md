# Cloud Storage に適用される IAM 役割

作成日 2020/04/17

## 公式ドキュメントを読む

[Cloud Storage に適用される Cloud IAM 役割  \|  Google Cloud](https://cloud.google.com/storage/docs/access-control/iam-roles?hl=ja)

| 役割          | 日本語名           | 説明                             |
| ------------- | ------------------ | -------------------------------- |
| objectCreator | オブジェクト作成者 | 作成のみ、表示/削除/上書きなし   |
| objectViewer  | オブジェクト閲覧者 | オブジェクトを閲覧する           |
| objectAdmin   | オブジェクト管理者 | オブジェクトのすべてを管理できる |

### どハマりしたこと

Python スクリプトで使用するサービスアカウントには、「ストレージのオブジェクト作成者」と「ストレージ オブジェクト閲覧者」の役割を追加すれば十分だと思っていたが、この場合、上書きができない

保持ポリシーやイベントベースの保留などの制限をつけていなければ、デフォルトでオブジェクトの上書きはできるはずなのだが、どうしても上書きができずに、とても困った。バケットの制限が問題なのではなく、与えた役割が問題だった
