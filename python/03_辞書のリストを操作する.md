# 辞書のリストを操作する

作成日 2019/10/01

## 01. 抽出と並び替えは一発で行える

-   抽出 ... リスト内包表記の中で if を使う
-   並び替え ... `sorted()`関数を使う、引数に lambda 関数を与える

### サンプルコード

```python
def sort_by_filename(details):
    """
    ファイル名をk,d,p.y,f,bの順番に並び替える
    """
    list1 = [d for d in details if d['filename'].startswith('k')]
    list2 = [d for d in details if d['filename'].startswith('d')]
    list3 = [d for d in details if d['filename'].startswith('p')]
    list4 = [d for d in details if d['filename'].startswith('y')]
    list5 = [d for d in details if d['filename'].startswith('f')]
    list6 = [d for d in details if d['filename'].startswith('b')]
    return_list = []
    return_list.extend(sorted(list1, key=lambda x: x['filename']))
    return_list.extend(sorted(list2, key=lambda x: x['filename']))
    return_list.extend(sorted(list3, key=lambda x: x['filename']))
    return_list.extend(sorted(list4, key=lambda x: x['filename']))
    return_list.extend(sorted(list5, key=lambda x: x['filename']))
    return_list.extend(sorted(list6, key=lambda x: x['filename']))
    return return_list


def make_string(details):
    """
    ファイル名と長さをカンマ区切りで繋げて、スラッシュでjoinする
    """
    string_list = [d["filename"] + ',' + str(d["width"]) for d in details]
    return '/'.join(string_list)


if __name__ == "__main__":
    details = [
        {'filename': 'f4.jpg', 'width': 100},
        {'filename': 'y3.jpg', 'width': 200},
        {'filename': 'd2.jpg', 'width': 300},
        {'filename': 'k1.jpg', 'width': 400}
    ]
    sorted_details = sort_by_filename(details)
    print(sorted_details)
    #=> [{'filename': 'k1.jpg', 'width': 400},
    #=>  {'filename': 'd2.jpg', 'width': 300},
    #=>  {'filename': 'y3.jpg', 'width': 200},
    #=>  {'filename': 'f4.jpg', 'width': 100}]

    p = make_string(sorted_details)
    print(p)
    #=> k1.jpg,400/d2.jpg,300/y3.jpg,200/f4.jpg,100
```
