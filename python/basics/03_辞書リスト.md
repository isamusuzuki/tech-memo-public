# 辞書リストを扱う

作成日 2019/10/01、更新日 2020/03/17

## 01. 抽出

リスト内包表記の中で if を使う

```python
details = [
    {'filename': 'f4.jpg', 'width': 100},
    {'filename': 'y3.jpg', 'width': 200},
    {'filename': 'd2.jpg', 'width': 300},
    {'filename': 'k1.jpg', 'width': 400}
]

k_only_list = [d for d in details if d['filename'].startswith('k')]
# => [{'filename': 'k1.jpg', 'width': 400}]
```

## 02. 並び替え

`sorted()`関数を使う、引数に lambda 関数を与える

```python
details = [
    {'filename': 'f4.jpg', 'width': 100},
    {'filename': 'y3.jpg', 'width': 200},
    {'filename': 'd2.jpg', 'width': 300},
    {'filename': 'k1.jpg', 'width': 400}
]

name_order_list = sorted(details, key=lambda x: x['filename'])
# => [{'filename': 'd2.jpg', 'width': 300}, 
# =>  {'filename': 'f4.jpg', 'width': 100},
# =>  {'filename': 'k1.jpg', 'width': 400},
#=>   {'filename': 'y3.jpg', 'width': 200}]
```

## 03. 重複排除

1. mapでJSON文字列に変換した後、setで重複を排除する
1. mapで辞書に変換した後、リストに戻す

```python
import json

details = [
    {'filename': 'f4.jpg', 'width': 100},
    {'filename': 'y3.jpg', 'width': 200},
    {'filename': 'd2.jpg', 'width': 300},
    {'filename': 'f4.jpg', 'width': 100}
]

unique_list = list(map(json.loads, set(map(json.dumps, details))))
# => [{'filename': 'f4.jpg', 'width': 100},
# =>  {'filename': 'y3.jpg', 'width': 200},
# =>  {'filename': 'd2.jpg', 'width': 300}]
```
