# 文字列・バイト列を変換する

作成日 2019/12/03

## サンプルコード

```python
'こんにちは'.encode('utf-8')
# => b'\xe3\x81\x93\xe3\x82\x93\xe3\x81\xab\xe3\x81\xa1\xe3\x81\xaf'

import json
a = json.dumps({'キー': 'バリュー'}).encode('utf-8')
# => b'{"\\u30ad\\u30fc": "\\u30d0\\u30ea\\u30e5\\u30fc"}'

b = json.loads(a)
# => {'キー': 'バリュー'}
```

## str.encode()メソッド

[https://docs.python.org/ja/3.8/library/stdtypes.html#text-sequence-type-str](https://docs.python.org/ja/3.8/library/stdtypes.html#text-sequence-type-str)

-   str ... 組み込み型のテキストシーケンス型
-   str.encode(encoding) ... バイト列オブジェクトを返す
-   encoding ... 標準のエンコーディングは utf-8
-   UnicodeError ... エンコードに関するエラーで投げられる

## bytes.decode()メソッド

[https://docs.python.org/ja/3.8/library/stdtypes.html#binary-sequence-types-bytes-bytearray-memoryview](https://docs.python.org/ja/3.8/library/stdtypes.html#binary-sequence-types-bytes-bytearray-memoryview)

-   bytes, bytearray ... 組み込み型のバイナリシーケンス型
-   bytes.decode(encoding) ... 文字列を返す
-   bytearray.decode(encoding) ... 文字列を返す

## 利用できるエンコーディング

[https://docs.python.org/ja/3.8/library/codecs.html#standard-encodings](https://docs.python.org/ja/3.8/library/codecs.html#standard-encodings)

-   ascii
-   cp932 (932, ms932, mskanji, ms-kanji)
-   iso2022_jp
-   shift_jis (csshiftjis, shiftjis, sjis, s_jis)
-   utf_8 (U8, UTF, utf8, cp65001)
-   utf_8_sig

「windows31-J」はここに掲載されておらず、使うとエラーになる\
代わりに「cp932」を使うべし

参考記事 => [Shift_JIS と Windows\-31J \(MS932\) の違いを整理してみよう](https://weblabo.oscasierra.net/shift_jis-windows31j/)
