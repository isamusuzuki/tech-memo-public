# Python 文法まとめ

作成日 2019/12/04

公式ドキュメント => [https://docs.python.org/ja/3/](https://docs.python.org/ja/3/)

## 01. 文字列リテラル

ダブルクォーテーション（`"`）とシングルクォーテーション（`'`）のどちらを使っても違いはない

```python
str1 = "abc"
str2 = 'efg'
```

デフォルトでシングルクォーテーションを使っておいたほうが、HTML 文を書くときに、
ダブルクォーテーションをエスケープせずに使えるから便利なのではないか？

## 02. フォーマット済み文字列リテラル(f-strings)

Python3.6 で導入された「テンプレート文字列」。より短く簡潔に書ける

公式ドキュメント => [2. 字句解析 > 2.4.3. フォーマット済み文字列リテラル](https://docs.python.org/ja/3/reference/lexical_analysis.html#f-strings)

```python
a = 12
b = 3.456
c = {'key1': 'value1'}
d = dict(key2=789)
e = 'ABC'
print (f'Hello, World {a} {b:.2f} {c["key1"]} {d["key2"]} {e.lower()}')
#=> Hello, World 12 3.46 value1 789 abc
```

辞書の値を取るときに、`c['key1']` と書いたら Invalid Syntax になった。
これは f-strings の一番外側がシングルクォーテーションなので、その中では
ダブルクォーテーションを使う必要があるから

## 03. 長い文字列を複数行に分けて書く

Python で flake8 などの PEP8 に準拠したコードチェッカーを使っていると、
1 行が 80 文字を超えたときに E501 line too long というエラーが出る

改行して複数行に分けて書く方法は以下の 2 つ

-   バックスラッシュ（\）を使う
-   丸括弧を使う

```python
word1 = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed ' \
    + 'do eiusmod tempor incididunt ut labore et dolore magna aliqua.'

word2 = (
    'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed '
    'do eiusmod tempor incididunt ut labore et dolore magna aliqua.'
)
```

## 04. 関数に引数を渡すときは、基本的に参照渡しになっている

-   値渡し `call by value` ... 関数の仮引数に実引数の値をコピーして渡す方法
-   参照渡し `call by reference` ... 関数に実引数のメモリ上のアドレスを渡す方法

```python
def test1(num):
    num += 1
    print(num)

def test2(dct):
    dct['color'] = 'red'
    print(dct)

if __name__ == "__main__":
    a1 = 10
    print(a1) #=> 10
    test1(a1) #=> 11
    print(a1) #=> 10

    a2 = {'color': 'green'}
    print(a2) #=> {'color': 'green'}
    test2(a2) #=> {'color': 'red'}
    print(a2) #=> {'color': 'red'}
```

-   `a1`変数の値が変わらなかったのは、イミュータブルだから
-   整数・小数・文字列・タプルは、イミュータブル
-   一方 `a2`変数は辞書だから、変更される
