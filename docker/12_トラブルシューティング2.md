# Docker Desktop トラブルシューティング 2

作成日 2022/01/28

## トラブル発生

Docker Desktop を起動すると、たまに起動に失敗することがある。そのときに表示されるメッセージは以下の通り

> Docker failed to initialize\
> Docker Desktop is already running.

もちろん Docker Desktop は起動していないので、停止させようもない

## トラブルの続き

この状態で、VSCode の devcontainers を使おうとすると失敗する

コマンドパレットから "Open Folder in Container..." を選ぶと、`docker run()` コマンドで失敗する

> docker: Error response from daemon: CreateFile c:\Users\{{username}}\{{project-name}}: Access is denied.

## トラブルの原因を探る

なぜ、「Docker はすでに起動している」という返答になるのか？

なぜ、自分のフォルダへの書き込みに失敗するのか？

おそらく、同じ PC にログインしている別のユーザーの環境下の Docker Server に接続しているからだと考えた。

Docker Desktop は、別ユーザーの Docker Server と結びついてしまうことがあり、その状態では、自分のフォルダへの書き込み権限がない

ユーザーを切り替えるときは、きちんと Docker Desktop を終了しておく必要がある
