# ジェネレーター関数

作成日 2025/07/29

## 1. `function*`宣言

参照記事 => [function* 宣言 - JavaScript | MDN](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/function*)

> `function*`宣言（functionキーワードにアスタリスクが付いたもの）は、`Generator`オブジェクトを返すジェネレーター関数を定義します。

```javascript
function* generator(i) {
  yield i;
  yield i + 10;
}
const gen = generator(10);
console.log(gen.next().value); // 10
console.log(gen.next().value); // 20
```

ジェネレーター関数には、対応するアロー関数はない。アロー関数ではジェネレーター関数を表現できない

- ジェネレーター関数を呼び出しても関数はすぐには実行されない
- 代わりにその関数のジェネレーターオブジェクトが返される
- イテレーターの`next()`メソッドが呼び出されると、ジェネレーター関数の処理は、イテレーターから返された値を特定する最初の`yield`演算子か、ほかのジェネレーター関数に委任する`yield*`に達するまで実行される
- `next()`メソッドは産出された値を含む`value`プロパティと、ジェネレーターが最後の値を持つかを真偽値で示す`done`プロパティを持つオブジェクトを返す

```javascript
function* generator(i) {
  yield i;
  yield i + 10;
}
const gen = generator(10);
console.log(gen.next()); // Object { vallue: 10, done: false }
console.log(gen.next()); // Object { vallue: 10, done: false }
console.log(gen.next()); // Object { vallue: undefined, done: true }
```
