# Cloudflareを使って無料のWEBサーバーを立てる

作成日 2026/01/06、更新日 2026/01/10

## 0. 前提条件

- htmlファイルの書き方は理解している
- 自作したhtmlファイル,cssファイル,jsファイル,画像ファイルを持っている
- サーバーサイドのJavaScriptは、まだよくわかっていないが、これから勉強するつもりである

## 1. Cloudflareのホームページでの作業

- [Cloudflare](https://www.cloudflare.com/ja-jp/) ＞ 「無料で始める」ボタン
- ソーシャルアカウントと連携するか、または、Email,Passwordを入力してアカウントを作成する
- ”Workers & Pages”で、自動で割り振られたサブドメイン名を確認し、意中のものがあれば変更する
- "Workers & Pages"で、右下に表示されている"Account ID"をメモする
- アカウント管理 ＞ "アカウントAPIトークン"で、APIトークンを作成する

※ Account IDと、APIトークンは、Cloudflareにデプロイする時に必要となる

## 2. GitHubのホームページでの作業

- 新しいリポジトリを作成する
- そのリポジトリをクローンする

## 3. ローカルでの作業

- あらかじめDocker Desktopを起動しておく
- VSCodeでフォルダ（リポジトリ）を開く
- 開発コンテナを設定する
- 左下にある「大なり小なり」アイコン ＞ 「コンテナで再度開く」実行
- VSCode内のターミナルを開く（そこはLinuxの世界）
- `npm create cloudflare@latest`コマンド実行
- cloudflareをインストールするか？ にYesと答える
- サブフォルダ名（＝サーバー名）を決める
- Hello World example > Static site
- wrangler.jsoncファイルに、`{dev: {ip: "0.0.0.0"}}`を追加する（開発コンテナを使っているため）
- `npm run dev`コマンド実行 => ブラウザで`http://localhost:8787`を開く
- publicフォルダの中のhtmlファイルを開発していく

### 作成されたサブフォルダの内容

```text
--{subfolder-name}/
    |--.vscode/
    |   `--settings.json ... VSCode用の設定ファイル
    |--public/           ... ここに置いたファイルが公開される
    |   `--index.html    ... あらかじめ用意されたサンプルファイル
    |--.gitignore        ... Git用の設定ファイル
    |--package-lock.json ... npm用の設定ファイル2（見ない、いじらない）
    |--package.json      ... npm用の設定ファイル1（見る、いじる、理解する）
    `--wrangler.jsonc    ... Cloudflare用の設定ファイル
```

## 4. Cloudflareにデプロイする

- wrangler.jsoncファイルに、`{account_id: "xxxxx"}`を追加する
- .envファイルを作成し、`CLOUDFLARE_API_TOKEN: zzzzzz`を追加する
- `npm run deploy`コマンド実行
- 表示されるメッセージをよく見ると、デプロイされたサーバー名が表示されている
- `Ctrl`キーを押しながら、サーバー名をクリックすると、ブラウザがページを表示する
- サーバー名のパターン：`https://{subfolder-name}.{your-subdomain-name}.workers.dev/`

## 5. ファビコンを用意する

- スマホで自撮りする
- Geminiでアニメ風のかわいい感じに修正する
- GIMPを使って、丸く切り取る。丸の外側は透明にする
- JPEGは透明をサポートしていないので、PNGで保存する
- ファビコンジェネレーターを使って、ファビコンに変換する
