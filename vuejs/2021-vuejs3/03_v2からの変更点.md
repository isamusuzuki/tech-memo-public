# バージョン 2.x からの変更点

作成日 2021/09/18

## 01. アプリトップでの変更点

- トップに限らず、Vue クラスを呼ぶことはなくなった

src/index.ts

```javascript
// バージョン 2.x
import Vue from 'vue';
import App from './App.vue';

new Vue({
  el: '#app',
  components: { App },
  template: '<app/>',
});

// バージョン 3.x
import { createApp } from 'vue';
import App from './App.vue';

createApp(App).mount('#app');
```

## 02. コンポーネントでの変更点

- Vue クラスを呼ばないのだから、`Vue.extend()` メソッドもなくなった

src/App.vue

```html
<!-- バージョン 2.x -->
<script lang="ts">
  import Vue from 'vue';

  export default Vue.extend({
    data() {
      return {
        programVersion: 'v0000 開発中',
      };
    },
  });
</script>

<!-- バージョン 3.x -->
<script lang="ts">
  import { defineComponent } from 'vue';

  export default defineComponent({
    name: 'App',
    data() {
      return {
        programVersion: 'v0000 開発中',
      };
    },
  });
</script>
```

## 03. TypeScript 用の SFC 型定義ファイル

- Vue クラスを返していないのだから、SFC 型定義ファイルも変わった
- SFC = Single File Components 単一ファイルコンポーネント

src/shims-vue.d.ts

```javascript
// バージョン 2.x
declare module '*.vue' {
    import Vue from 'vue'
    export default Vue
}

// バージョン 3.x
declare module '*.vue' {
    import type { DefineComponent } from 'vue'
    const component: DefineComponent<{}, {}, any>
    export default component
}
```
