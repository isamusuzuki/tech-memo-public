# Visual Studio Code のスニペット機能

作成日 2021/10/17

## 01. 参考書籍を写経する

参考書籍 => 『Visual Studio Code 実践ガイド』 森下篤 著、技術評論社 2020 年発行

P. 123 第 6 章 そのほかの機能 ＞ スニペット機能

### 新しいスニペットを追加する

`Ctrl+Shift+P` ＞ コマンドパレットが登場 ＞ 「基本設定: ユーザー スニペットの構築」を実行する

スニペットの対象にする言語を選択する ＞ Go を選択する ＞ `snippets/go.json` ファイルが表示される ＞ 編集する

```json
{
  "CSVリーダー": {
    "description": "CSVリーダーを追加",
    "prefix": "csv-reader",
    "body": [
      "${1:csvReader} := csv.NewReader(${2:reader})",
      "for {",
      "    record, err := $1.read()",
      "    if err != nil {",
      "        break",
      "    }",
      "    $0",
      "}"
    ]
  }
}
```

- キー名は、スニペットの管理上の名前であり、重複しなければ何でもかまわない
- description 要素は、コード補完候補に表示される名称
- prefix 要素は、コード補完候補として検索するときのキーワード
- body 要素は、コードを行ごとの配列で記述する
- `$1`または`${1:default}`は、配置後、カーソルが移動していく
- `$0`は特別な番号で、最後にカーソルが移動する
