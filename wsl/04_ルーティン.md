# つつがなく Chromium を使うためのルーティン

作成日 2021/03/20

## 事前準備

```bash
# geditをインストールする
sudo apt install gedit -y

# ホームフォルダにシンボリックリンクを作成する
ln -s /home/<user>/.cache/ms-playwright/chromium-854489/chrome-linux/chrome /home/<user>/chrome
```

## ルーティン

- Windows が起動したときに、X サーバーが自動でスタートするようには設定しない
- 使う直前に、デスクトップにある XLaunch アイコンをクリックする

```bash
echo $DISPLAY

echo $LIBGL_ALWAYS_INDIRECT

# 接続テスト
dbus-launch --exit-with-x11

# geditを起動してみる
gedit &

# chromiumを起動してみる
./chrome &
```

## Chromium の起動メッセージにエラーがある

```text
[4130:4149:0320/000929.505307:ERROR:bus.cc(393)] Failed to connect to the bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory
```

[wsl 上で headless chrome を起動すると Failed to connect to the bus: Failed to connect to socket /var/run/dbus/system_bus_socket: No such file or directory \- Qiita](https://qiita.com/yugo-yamamoto/items/4b3286ab9c67c5f40080)

=> 言われた通りに操作しても、エラーは消えない
