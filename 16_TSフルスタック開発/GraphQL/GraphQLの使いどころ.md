# GraphQLの使いどころ

作成日 2025/10/06

## 解説記事を読む

[REST APIとGraphQLの併用 ～WEBアプリにおける最適なAPI設計と活用の可能性～](https://qiita.com/shimori/items/5a52cf75a906425507c3)

### REST APIで直面する可能性がある課題

- オーバーフェッチ（不要なデータの取得）
- アンダーフェッチ（必要なデータが足りない）
- 複数のAPI呼び出しが必要になるデータ構造
- リアルタイムデータの取得が困難

### GraphQLのメリット

- 必要なデータだけ取得できる（オーバーフェッチ・アンダーフェッチの解決）
- 複数のデータを1回のリクエストで取得
- リアルタイムデータの取得

### メリット2番目の詳細

REST APIでは、複数のデータを取得する場合は、複数のエンドポイントを叩く必要がある

```text
GET /sales => 売上データを取得
GET /users/count => ユーザー数を取得
```

GraphQLの場合は、1回のクエリで実現できる

```javascript
query {
  sales {
    total
  }
  users {
    count
  }
}
```

レスポンス

```json
{
  "data": {
    "sales": {
      "total": 50000
    },
    "users": {
      "count": 1200
    }
  }
}
```

REST APIとGraphQLの併用戦略

| 場面               | REST API            | GraphQL            |
| ------------------ | ------------------- | ------------------ |
| CRUD操作           | 適している          | 過剰設計の可能性   |
| ダッシュボード     | API呼び出しが増える | 最適化できる       |
| リアルタイムデータ | ポーリングが必要    | Subscriptionで対応 |
