# デバッグモードで動かす

作成日 2021/03/16

## デバッグモードとは

環境変数 `PWDEBUG` を 1 に設定しておき、Playwright を走らせると、デバッグモードで動かすことができる。

- ブラウザは必ず「ヘッドあり」で動く
- タイムアウトは無効になる
- Playwright Inspector も起動して、最初の行で止まる。その後も1行づつ実行できる

## Python環境の場合

.env

```text
PWDEBUG=1
```

firstscript.py

```python
from dotenv import load_dotenv

from fire import Fire

from playwright.sync_api import sync_playwright


def run():
    with sync_playwright() as p:
        browser = p.chromium.launch(
            headless=False, slow_mo=50
        )
        page = browser.new_page()
        page.goto('http://whatsmyuseragent.org/')
        page.screenshot(path='temp/firstscript.py.png')
        browser.close()


if __name__ == '__main__':
    load_dotenv()
    Fire(run)
```
