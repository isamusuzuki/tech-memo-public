# 型アノテーションと型アサーション

作成日 2025/09/16

## 1. 解説記事を読む1

[【TypeScript】型アノテーションと型アサーションの違い](https://qiita.com/messhii222/items/5c5f30058b26cd9dff8f)

- 型アノテーション ... 開発者が型を指定して、型推論を明示的に行う
- 型アサーション ... コンパイラーによって型推論された型情報を、開発者が明示的に上書きする

> 型アサーションは値の前に「`<型名>`」を記述するアングルブラケット構文と、値の後ろに「`as 型名`」を記述するas方法の２種類がある。（ちなみに、Reactで使用されるJSX構文との混合を避けるために「as構文」の書き方が推奨されている。）

```javascript
let age: number;  // 型アノテーション
age = 18;  // OK
age = "John"; // Error

interface Person { age: number };
let john = {} as Person;  // 型アサーション
let bob = {};
john.age = 18;  // No Error
bob.age = 17;  // Error（Property 'age' does not exist on type '{}'）
```

型アサーションを用いるとエラーやバグに気づかずにプログラムを実行してしまう可能性がある

エラーやバグを事前に防ぐためにも、何か特別な理由がなければ型アノテーションを使用する

### 2. 解説記事を読む2

[型アサーション「as」(type assertion)](https://typescriptbook.jp/reference/values-types-variables/type-assertion-as)

> TypeScriptコンパイラーはコードをヒントに型を推論してくれます。その型推論は非常に知的ですが、場合によってはコンパイラーよりもプログラマーがより正確な型を知っている場合があります。そのような場合は、型アサーションを用いるとコンパイラーに型を伝えることができます。型アサーションはコンパイラに「私を信じて！私のほうが型に詳しいから」と伝えるようなものです。
>
> 型アサーションには、コンパイラーの型推論を上書きする強力さがあります。そのため、プログラマーは型アサーションによってバグを産まないように十分注意する必要があります。型に関することはできるだけ、コンパイラーの型推論に頼ったほうが安全なので、型アサーションは、やむを得ない場合にのみ使うべきです。
