# 『ビッグデータ処理データベースの全体像と使い分け』を読む

[ビッグデータ処理データベースの全体像と使い分け 2018年version](https://www.slideshare.net/tetsutarowatanabe/2018version-115735455)

## 0. 発表をしようと思った背景

適材適所を知るためには、ビッグデータ処理技術全体を把握する必要がある

## 1. データベースの分類

### レスポンス重視

- オペレーショナルDB
- データを操作する用途
- 少量のデータに対するランダムアクセス
- トランザクション重要
- 行指向アクセス

### スループット重視

- アナリティックDB
- 主に分析用途
- 大量のデータに対するデータ抽出・集計
- 列指向アクセス

### 提供形態

- オンプレ
- クラウドDBサービス
- クラウドクエリサービス

![bigdata_database_bunrui](https://imgur.com/7ohHelH.png)

![bigdata_kihon_kousei](https://imgur.com/6LzxFCJ.png)

## 2. データベースの紹介

### オペレーショナルDB - RDB

- オンプレ ... Oracle, SQL Server, MySQL
- クラウドDB ... Amazon RDS, Cloud SQL, Oracle ATP
- クラウドクエリ ... Amazon Aurora, Cloud Spanner

#### Cloud Spannerとは

- トランザクションを提供でき、かつワールドワイドに分散できるRDB
- トランザクションで「読み取り専用」か「ロック型読み書き」を宣言
- データセンタ間の時間差を吸収できるようにコミットを待つ
- 各データセンタに原子時計を配置し、ノート間の時刻の差を最小化する => コミットの待ち時間を最小化

### オペレーショナルDB - NoSQL

- オンプレ ... redis, cassandra, mongoDB
- クラウドクエリ ... Amazon DynameDB, Cloud BigTable, Cloud Firestore

#### NoSQLの特徴

- 分散して、シンプルなオペレーションができる
- 「強い整合性」を犠牲にして、「結果整合性」を採用
- 分散しやすいデータモデルと、分散しやすいクエリだけを提供する

### アナリティックDB - Hadoop

ひとことで言うと、分散したファイルに様々な分散処理ができるソフトウェア群

処理イメージ

- レスポンス: 数十分～数時間
- データサイズ: 全データ
- 計算: 分散できる計算なら何でも

アーキテクチャの特徴

- データはファイル
- ストレージと処理が分離
- 途中でノードがダウンしても処理を継続

クラウドのHadoop

- 分散処理エンジンとストレージの分離
- データはオブジェクトストレージに格納
- 計算ノードは使い捨て。負荷に応じて計算ノードの台数を変更

### アナリティックDB - DWH

ひとことで言うと、データの抽出・集計に特化したRDB

処理イメージ

- レスポンス: 数秒～数分
- データサイズ: 直近13ヶ月
- 計算: SQLベース

アーキテクチャの特徴

- 列指向で圧縮してデータ格納
- データ抽出の高速化
- UPDATEやDELETEは遅い（or できない）

## 3. その他のビッグデータ関連キーワードの説明

TBF

## 4. まとめ

TBF


